server {
    listen 80;
    server_name _;
    root /var/www/html/public;

    index index.php index.html;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }
}
```

## Étape 2 : Déploiement sur Railway

### 2.1 Connexion et création du projet

1. Connectez-vous sur [railway.app](https://railway.app)
2. Cliquez sur **"New Project"**
3. Sélectionnez **"Deploy from GitHub repo"**
4. Autorisez Railway à accéder à votre GitHub
5. Sélectionnez votre dépôt

### 2.2 Configuration du service Laravel

1. Railway détectera automatiquement votre `Dockerfile`
2. Dans les **Settings** du service :
   - **Service Name** : `laravel-app`
   - **Port** : 80 (Railway détectera automatiquement)

### 2.3 Ajout de la base de données MySQL

1. Dans votre projet Railway, cliquez sur **"+ New"**
2. Sélectionnez **"Database" → "Add MySQL"**
3. Railway créera automatiquement une instance MySQL

### 2.4 Configuration des variables d'environnement

Dans les **Variables** de votre service Laravel, ajoutez :
```
APP_NAME=VotreApp
APP_ENV=production
APP_KEY=base64:VOTRE_CLE_GENEREE
APP_DEBUG=false
APP_URL=https://votre-domaine.up.railway.app

DB_CONNECTION=mysql
DB_HOST=${{MySQL.MYSQL_PRIVATE_URL}}
DB_PORT=3306
DB_DATABASE=${{MySQL.MYSQL_DATABASE}}
DB_USERNAME=${{MySQL.MYSQL_USER}}
DB_PASSWORD=${{MySQL.MYSQL_PASSWORD}}

SESSION_DRIVER=file
QUEUE_CONNECTION=sync